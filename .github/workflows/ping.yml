name: Render Keep-Alive Ping

on:
  schedule:
    # –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 14 –º–∏–Ω—É—Ç (—á—É—Ç—å –º–µ–Ω—å—à–µ 15 –º–∏–Ω—É—Ç –ª–∏–º–∏—Ç–∞ Render)
    - cron: '*/14 * * * *'
  workflow_dispatch:  # –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é

jobs:
  ping-render:
    runs-on: ubuntu-latest
    steps:
      - name: Send HTTP Request to Render
        run: |
          # –ó–∞–º–µ–Ω–∏—Ç–µ URL –Ω–∞ –≤–∞—à –∞–∫—Ç—É–∞–ª—å–Ω—ã–π URL –±–æ—Ç–∞
          RENDER_URL="https://shygynbot-1.onrender.com/healthcheck"
          
          echo "üîÑ –ü–∏–Ω–≥—É—é $RENDER_URL..."
          echo "‚è∞ –í—Ä–µ–º—è: $(date '+%Y-%m-%d %H:%M:%S UTC')"
          
          # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º GET –∑–∞–ø—Ä–æ—Å –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
          response=$(curl -s -o /dev/null -w "%{http_code}" --max-time 30 "$RENDER_URL")
          
          if [ "$response" = "200" ]; then
            echo "‚úÖ –£—Å–ø–µ—à–Ω–æ! HTTP –∫–æ–¥: $response"
          else
            echo "‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞! HTTP –∫–æ–¥: $response"
          fi
